{"ast":null,"code":"import { db } from '../firebaseDb';\nexport default {\n  data() {\n    return {\n      Users: []\n    };\n  },\n\n  created() {\n    db.collection('users').onSnapshot(snapshotChange => {\n      this.Users = [];\n      snapshotChange.forEach(doc => {\n        this.Users.push({\n          key: doc.id,\n          name: doc.data().name,\n          email: doc.data().email,\n          phone: doc.data().phone\n        });\n      });\n    });\n  },\n\n  methods: {\n    deleteUser(id) {\n      if (window.confirm(\"Do you really want to delete?\")) {\n        db.collection(\"users\").doc(id).delete().then(() => {\n          console.log(\"Document deleted!\");\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6BA;AAEA;EACAA;IACA;MACAC;IADA;EAGA,CALA;;EAMAC;IACAC;MACA;MACAC;QACA;UACAC,WADA;UAEAC,qBAFA;UAGAC,uBAHA;UAIAC;QAJA;MAMA,CAPA;IAQA,CAVA;EAWA,CAlBA;;EAmBAC;IACAC;MACA;QACAP;UACAQ;QACA,CAFA,EAGAC,KAHA,CAGAC;UACAF;QACA,CALA;MAMA;IACA;;EAVA;AAnBA","names":["data","Users","created","db","snapshotChange","key","name","email","phone","methods","deleteUser","console","catch","error"],"sourceRoot":"src/components","sources":["UserList.vue"],"sourcesContent":["<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <table class=\"table table-striped\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Email</th>\r\n                        <th>Phone</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"user in Users\" :key=\"user.key\">\r\n                        <td>{{ user.name }}</td>\r\n                        <td>{{ user.email }}</td>\r\n                        <td>{{ user.phone }}</td>\r\n                        <td>\r\n                            <router-link :to=\"{name: 'edit', params: { id: user.key }}\" class=\"btn custom-btn_edit btn-2 \">Edit\r\n                            </router-link>\r\n                            <button @click.prevent=\"deleteUser(user.key)\" class=\"btn btn-danger custom-btn_edit btn-2\">Delete</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import { db } from '../firebaseDb';\r\n    \r\n    export default {\r\n        data() {\r\n            return {\r\n                Users: []\r\n            }\r\n        },\r\n        created() {\r\n            db.collection('users').onSnapshot((snapshotChange) => {\r\n                this.Users = [];\r\n                snapshotChange.forEach((doc) => {\r\n                    this.Users.push({\r\n                        key: doc.id,\r\n                        name: doc.data().name,\r\n                        email: doc.data().email,\r\n                        phone: doc.data().phone\r\n                    })\r\n                });\r\n            })\r\n        },\r\n        methods: {\r\n            deleteUser(id){\r\n              if (window.confirm(\"Do you really want to delete?\")) {\r\n                db.collection(\"users\").doc(id).delete().then(() => {\r\n                    console.log(\"Document deleted!\");\r\n                })\r\n                .catch((error) => {\r\n                    console.error(error);\r\n                })\r\n              }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .btn-primary {\r\n        margin-right: 12px;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}